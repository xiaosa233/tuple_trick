# Generated by quick cmake


cmake_minimum_required(VERSION 3.2)
set(CMAKE_SUPPRESS_REGENERATION true)
set(CMAKE_CONFIGURATION_TYPES "Debug;Release" CACHE STRING "" FORCE)
set(CMAKE_CXX_STANDARD 17)
if("${CMAKE_GENERATOR}" MATCHES "^Visual Studio.*")
  set(CMAKE_GENERATOR_PLATFORM "x64" CACHE INTERNAL "" FORCE)
endif()


project(tuple_trick)
set (PROJECT_DIR ${CMAKE_CURRENT_SOURCE_DIR}/../)
set (SOURCE_DIR ${PROJECT_DIR}/sources)
set (CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${PROJECT_DIR}/lib)
set (CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_DIR}/lib)
set (CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_DIR}/bin)
include_directories(${SOURCE_DIR})


# module tuple_trick
FILE(GLOB tuple_trick ${SOURCE_DIR}/tuple_trick/tuple_trick.h)
FILE(GLOB tuple_trick_BUILD_TARGET_FILE_GROUP ${SOURCE_DIR}/tuple_trick/build.py)
source_group("sources" FILES ${tuple_trick})
add_library(tuple_trick STATIC ${tuple_trick}  ${tuple_trick_BUILD_TARGET_FILE_GROUP} )
target_include_directories(tuple_trick 
 PUBLIC ${SOURCE_DIR}/tuple_trick PUBLIC ${PROJECT_DIR}/third_parties/googletest/include)
target_link_libraries(tuple_trick  optimized ${PROJECT_DIR}/third_parties/googletest/lib/windows/Release/gtest.lib
 optimized ${PROJECT_DIR}/third_parties/googletest/lib/windows/Release/gtest_main.lib
 debug ${PROJECT_DIR}/third_parties/googletest/lib/windows/Debug/gtest_main.lib
 debug ${PROJECT_DIR}/third_parties/googletest/lib/windows/Debug/gtest.lib
)
set_target_properties(tuple_trick PROPERTIES LINKER_LANGUAGE CXX)


# module test_tuple_trick_tuple_trick
FILE(GLOB test_tuple_trick_tuple_trick ${SOURCE_DIR}/tuple_trick/tuple_trick_test.cpp)
source_group("ut_file" FILES ${test_tuple_trick_tuple_trick})
add_executable(test_tuple_trick_tuple_trick ${test_tuple_trick_tuple_trick} )
target_include_directories(test_tuple_trick_tuple_trick 
 PUBLIC ${SOURCE_DIR}/tuple_trick PUBLIC ${PROJECT_DIR}/third_parties/googletest/include)
target_link_libraries(test_tuple_trick_tuple_trick  optimized ${PROJECT_DIR}/third_parties/googletest/lib/windows/Release/gtest.lib
 optimized ${PROJECT_DIR}/third_parties/googletest/lib/windows/Release/gtest_main.lib
 debug ${PROJECT_DIR}/third_parties/googletest/lib/windows/Debug/gtest_main.lib
 debug ${PROJECT_DIR}/third_parties/googletest/lib/windows/Debug/gtest.lib
)
set_target_properties(test_tuple_trick_tuple_trick PROPERTIES LINKER_LANGUAGE CXX)


# run all unittest under folder tuple_trick
add_custom_target(test_tuple_trick DEPENDS test_tuple_trick_tuple_trick COMMAND echo run unittest files test_tuple_trick/tuple_trick/tuple_trick_test.cpp COMMAND $<TARGET_FILE:test_tuple_trick_tuple_trick>
)

